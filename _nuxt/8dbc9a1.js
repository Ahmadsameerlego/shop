(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{678:function(t,e,r){var content=r(770);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("66acce66",content,!0,{sourceMap:!1})},769:function(t,e,r){"use strict";r(678)},770:function(t,e,r){var o=r(14)(!1);o.push([t.i,".order-val[data-v-6c0c95d1]{overflow-x:auto}.order-val .d-flex[data-v-6c0c95d1]{flex-wrap:nowrap;min-width:750px}.order-val .d-flex div[data-v-6c0c95d1]{flex:1 1 70px;text-align:center;font-size:14px}",""]),t.exports=o},820:function(t,e,r){"use strict";r.r(e);var o={middleware:["auth"],data:function(){return{BillButton:"primary",loadingPage:!0,showBill:!0,orderInfo:{orderStatus:null,orderNumber:null,orderDate:null,orderTime:null,paymentMethood:null,shippingBy:null,status:null,orderNote:null,orderPrice:null,deliveryPrice:null,discount:null,totalPrice:null},clintInfo:{user:{userName:null,phoneNo:null},receiver:{userName:null,phoneNo:null,address:null}},bill:{invoicePdf:null},headers:[{text:this.$t("products"),value:"productInfo"},{text:this.$t("department"),value:"full_department"},{text:this.$t("features"),value:"details"},{text:this.$t("price"),alagin:"center",value:"price"},{text:this.$t("quantity"),value:"count"},{text:this.$t("productPrice"),value:"priceProduct"}],items:[]}},computed:{orderId:function(){return this.$route.params.id}},mounted:function(){this.getOrderDetails()},methods:{getOrderDetails:function(){var t=this;this.$axios.$get("orderDetails",{params:{orderId:this.orderId,userType:"store"}}).then((function(e){t.orderInfo.orderStatus=e.data.order.orderStatus,t.orderInfo.orderStatusName=e.data.order.orderStatusName,t.orderInfo.orderNumber=e.data.order.orderNumber,t.orderInfo.orderDate=e.data.order.date,t.orderInfo.orderTime=e.data.order.time,t.orderInfo.paymentMethood=e.data.order.paymentMethod,t.orderInfo.shippingBy=e.data.order.delivery,t.orderInfo.status=e.data.order.orderStatusName,t.orderInfo.orderNote=e.data.order.notes,t.orderInfo.orderPrice=e.data.order.orderPrice,t.orderInfo.deliveryPrice=e.data.order.deliveryPrice,t.orderInfo.discount=e.data.order.discount,t.orderInfo.totalPrice=e.data.order.totalPrice,t.items=e.data.order.products,t.clintInfo.user.userName=e.data.order.user.userName,t.clintInfo.user.phoneNo=e.data.order.user.phoneNo,t.clintInfo.receiver.userName=e.data.order.receiver.userName,t.clintInfo.receiver.phoneNo=e.data.order.receiver.phoneNo,t.clintInfo.receiver.address=e.data.order.receiver.address,t.bill.invoicePdf=e.data.order.invoicePdf,t.loadingPage=!1}))},acceptOrder:function(){var t=this;this.$axios.$put("acceptRejectOrder",{orderId:this.orderId,orderStatus:"acceptOrder",userType:"store"}).then((function(e){t.$router.push(t.localePath("/store/order")),t.$swal.fire({title:e.data.order.orderStatusName,timer:1e3,icon:"success",allowOutsideClick:!1,showConfirmButton:!1,showCancelButton:!1})}))},rejectOrder:function(){var t=this;this.$axios.$put("acceptRejectOrder",{orderId:this.orderId,orderStatus:"rejectOrder",userType:"store"}).then((function(e){t.$router.push(t.localePath("/store/order")),t.$swal.fire({title:e.data.order.orderStatusName,timer:1e3,icon:"fail",allowOutsideClick:!1,showConfirmButton:!1,showCancelButton:!1})}))},orderConadtion:function(t){var e=this;this.$axios.$put("changeOrderStatus",{orderId:this.orderId,orderStatus:t,userType:"store"}).then((function(t){console.log(t.data),e.orderInfo.orderStatus=t.data.order.orderStatus,e.$swal.fire({title:t.data.order.orderStatusName,timer:1e3,icon:"fail",allowOutsideClick:!1,showConfirmButton:!1,showCancelButton:!1})}))}}},n=(r(769),r(26)),d=r(43),l=r.n(d),c=r(555),v=r(565),f=r(792),m=r(237),_=r(360),h=r(566),C=r(629),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order-details"},[t.loadingPage?r("v-skeleton-loader",{attrs:{type:"actions, list-item-three-line,card-heading"}}):r("div",{staticClass:"order-info"},[r("div",{staticClass:"content-box pb-6"},[r("v-row",[r("v-col",{attrs:{cols:"12",lg:"8"}},[r("div",{staticClass:"orderNum siz-14"},[t._v("\n            "+t._s(t.$t("orderNumber"))+": "+t._s(t.orderInfo.orderNumber)+"\n          ")]),t._v(" "),r("v-row",{staticClass:"mt-3"},[r("v-col",{staticClass:"pt-0 pb-2 siz-12",attrs:{sm:"6",xs:"12"}},[t._v("\n              "+t._s(t.$t("orderTime"))+": "+t._s(t.orderInfo.orderTime)+"\n            ")]),t._v(" "),r("v-col",{staticClass:"pt-0 pb-2 siz-12",attrs:{sm:"6",xs:"12"}},[t._v("\n              "+t._s(t.$t("paymentMethood"))+":\n              "),r("span",{staticClass:"tx-main"},[t._v(t._s(t.orderInfo.paymentMethood))])]),t._v(" "),r("v-col",{staticClass:"pt-0 pb-2 siz-12",attrs:{sm:"6",xs:"12"}},[t._v("\n              "+t._s(t.$t("orderDate"))+": "+t._s(t.orderInfo.orderDate)+"\n            ")]),t._v(" "),r("v-col",{staticClass:"pt-0 pb-2 siz-12",attrs:{sm:"6",xs:"12"}},[t._v("\n              "+t._s(t.$t("shippingBy"))+": "+t._s(t.orderInfo.shippingBy)+"\n            ")])],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",lg:"4"}},[r("div",{staticClass:"d-flex gap-2 align-center siz-14 justify-end"},[r("div",{staticClass:"order-status"},[r("v-btn",{staticClass:"min-btn-w tx-main shadow-0 show-only",attrs:{color:""}},[t._v("\n                "+t._s(t.orderInfo.status)+"\n              ")])],1),t._v(" "),t.bill.invoicePdf?r("div",{staticClass:"show-bill"},[r("v-btn",{attrs:{color:"primary pa-0"}},[r("a",{staticClass:"min-btn-w bg-main text--white",attrs:{href:t.bill.invoicePdf,target:"_blank"}},[r("v-icon",{staticClass:"ms-2 me-2"},[t._v(" mdi-paper-roll-outline ")]),t._v("\n                  "+t._s(t.$t("ShowBill"))+"\n                ")],1)])],1):t._e()])])],1)],1)]),t._v(" "),t.loadingPage?r("v-skeleton-loader",{staticClass:"mt-3",attrs:{type:"card-heading, image, actions"}}):r("div",{staticClass:"products-tabel main-table-contant content-box border-b shadow-0 order-details mt-5"},[r("client-only",[r("v-data-table",{staticClass:"elevation-1",attrs:{"mobile-breakpoint":"0",headers:t.headers,items:t.items,"items-per-page":5,"footer-props":{showFirstLastPage:!1,"items-per-page-text":"    "}},scopedSlots:t._u([{key:"item.productInfo",fn:function(e){var o=e.item;return[r("div",{staticClass:"d-flex justify-center gap-1 pa-2 ps-0"},[r("v-img",{staticClass:"cover tableImage rounded",attrs:{alt:"","lazy-src":"https://picsum.photos/id/11/10/6",src:o.uploads[0]}}),t._v(" "),r("div",{staticClass:"siz-10"},[r("p",{staticClass:"m-0"},[t._v(t._s(o.productName))]),t._v(" "),r("div",{staticClass:"tx-gray"},[t._v(t._s(o.description))])])],1)]}},{key:"item.full_department",fn:function(e){var r=e.item;return[t._v("\n          "+t._s(r.departmentName)+", "+t._s(r.subDepartName)+"\n        ")]}}],null,!0)})],1)],1),t._v(" "),t.loadingPage?r("v-skeleton-loader",{staticClass:"mt-3",attrs:{type:" divider, list-item-three-line, card-heading, image, actions"}}):r("div",{staticClass:"content-box mt-5"},[r("h3",[t._v(t._s(t.$t("orderNote")))]),t._v(" "),t.orderInfo.orderNote?r("p",[t._v(t._s(t.orderInfo.orderNote))]):r("p",{staticClass:"text-center mt-3 tx-main font-weight-bold"},[t._v("\n      "+t._s(t.$t("noOrderNote"))+"\n    ")])]),t._v(" "),t.loadingPage?r("v-skeleton-loader",{staticClass:"mt-3",attrs:{type:" divider, list-item-three-line, card-heading, image, actions"}}):r("v-row",{staticClass:"Sender_receiver_info mt-3"},[t.clintInfo.user?r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"content-box h-100"},[r("div",{staticClass:"font-weight-bold mb-3"},[t._v(t._s(t.$t("senderInfo")))]),t._v(" "),r("p",{staticClass:"siz-14"},[t._v(t._s(t.clintInfo.user.userName))]),t._v(" "),r("p",{staticClass:"siz-14"},[t._v(t._s(t.clintInfo.user.phoneNo))])])]):t._e(),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"content-box h-100"},[r("div",{staticClass:"font-weight-bold mb-3"},[t._v(t._s(t.$t("receiverInfo")))]),t._v(" "),r("p",{staticClass:"siz-14"},[t._v(t._s(t.clintInfo.receiver.userName))]),t._v(" "),r("p",{staticClass:"siz-14"},[t._v(t._s(t.clintInfo.receiver.phoneNo))]),t._v(" "),r("p",{staticClass:"siz-14"},[t._v(t._s(t.clintInfo.receiver.address))])])])],1),t._v(" "),t.loadingPage?r("v-skeleton-loader",{staticClass:"mt-3",attrs:{type:" divider, list-item-three-line, card-heading, image, actions"}}):r("div",{staticClass:"content-box order-val mt-5"},[r("div",{staticClass:"d-flex justify-center gap-2 bg-body pa-4"},[r("div",[t._v(t._s(t.$t("orderValue")))]),t._v(" "),r("div",[t._v(t._s(t.$t("deliveryFee")))]),t._v(" "),r("div",[t._v(t._s(t.$t("discountValue")))]),t._v(" "),r("div",[t._v(t._s(t.$t("total")))])]),t._v(" "),r("div",{staticClass:"d-flex justify-center gap-2 tx-main pa-4"},[r("div",[t._v(t._s(t.orderInfo.orderPrice))]),t._v(" "),r("div",[t._v(t._s(t.orderInfo.deliveryPrice))]),t._v(" "),r("div",[t._v(t._s(t.orderInfo.discount))]),t._v(" "),r("div",[t._v(t._s(t.orderInfo.totalPrice))])])]),t._v(" "),"waitForAccept"==t.orderInfo.orderStatus?r("div",{staticClass:"actions dFlex gap-2"},[r("div",{staticClass:"text-center mt-5"},[r("v-btn",{staticClass:"pa-5 min-btn-w",attrs:{color:"primary"},on:{click:function(e){return t.acceptOrder(t.acceptOrder)}}},[t._v("\n        "+t._s(t.$t("acceptOrder"))+"\n      ")])],1),t._v(" "),r("div",{staticClass:"text-center mt-5"},[r("v-btn",{staticClass:"pa-5 min-btn-w",attrs:{color:"red",dark:""},on:{click:function(e){return t.rejectOrder(t.rejectOrder)}}},[t._v(t._s(t.$t("rejectOrder"))+"\n      ")])],1)]):t._e(),t._v(" "),"startOrderProcessing"==t.orderInfo.orderStatus?r("div",{staticClass:"actions dFlex gap-2"},[r("div",{staticClass:"text-center mt-5"},[r("v-btn",{staticClass:"pa-5 min-btn-w",attrs:{color:"primary"},on:{click:function(e){return t.orderConadtion(t.orderInfo.orderStatus)}}},[t._v(t._s(t.orderInfo.status)+"\n      ")])],1)]):t._e(),t._v(" "),"confirmOrderProcessing"==t.orderInfo.orderStatus?r("div",{staticClass:"actions dFlex gap-2"},[r("div",{staticClass:"text-center mt-5"},[r("v-btn",{staticClass:"pa-5 min-btn-w",attrs:{color:"primary"},on:{click:function(e){return t.orderConadtion(t.orderInfo.orderStatus)}}},[t._v("\n        "+t._s(t.orderInfo.status)+"\n      ")])],1)]):t._e(),t._v(" "),"startDeliveryOrder"==t.orderInfo.orderStatus?r("div",{staticClass:"actions dFlex gap-2"},[r("div",{staticClass:"text-center mt-5"},[r("v-btn",{staticClass:"pa-5 min-btn-w",attrs:{color:"primary"},on:{click:function(e){return t.orderConadtion(t.orderInfo.orderStatus)}}},[t._v("\n        >"+t._s(t.orderInfo.status)+"\n      ")])],1)]):t._e(),t._v(" "),"confirmDeliveryOrder"==t.orderInfo.orderStatus?r("div",{staticClass:"actions dFlex gap-2"},[r("div",{staticClass:"text-center mt-5"},[r("v-btn",{staticClass:"pa-5 min-btn-w",attrs:{color:"primary"},on:{click:function(e){return t.orderConadtion(t.orderInfo.orderStatus)}}},[t._v("\n        >"+t._s(t.orderInfo.status)+"\n      ")])],1)]):t._e()],1)}),[],!1,null,"6c0c95d1",null);e.default=component.exports;l()(component,{VBtn:c.a,VCol:v.a,VDataTable:f.a,VIcon:m.a,VImg:_.a,VRow:h.a,VSkeletonLoader:C.a})}}]);