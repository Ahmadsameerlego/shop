(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{600:function(t,e,o){"use strict";(function(t){var n=o(22);o(79),o(29);e.a={name:"MapComponent",computed:{Mapaddress:function(){return this.$store.state.address},latitude:function(){return this.$store.state.latitude},longitude:function(){return this.$store.state.longitude}},data:function(){return{place:this.$store.state.address,searchText:null,location:{lat:this.$store.state.latitude,lng:this.$store.state.longitude}}},methods:{updateLocation:function(t){console.log(t);var e=t.latLng.lat(),o=t.latLng.lng();this.collectAddressDetails(e,o)},collectAddressDetails:function(e,o){var c=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r,l,d,address,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.env.MAP_API_KEY||"AIzaSyBYYsHfLvLMjJVwKp3jm2fw9jNo_JKfvik",n.prev=1,delete(l=c.$axios.create()).defaults.headers.common.Authorization,"https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,",").concat(o,"&sensor=true&key=").concat(r),d="https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(e,"&longitude=").concat(o,"&localityLanguage=ar"),n.next=8,l.get(d).then((function(t){return t.data})).catch((function(t){throw t}));case 8:address=n.sent,f="".concat(address.countryName," ,").concat(address.principalSubdivision," ,").concat(address.locality),console.log({address:address}),c.location={lat:e,lng:o},c.place=f,c.$store.dispatch("longitude",o),c.$store.dispatch("latitude",e),c.$store.dispatch("address",c.place),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(1),console.error(n.t0);case 21:case"end":return n.stop()}}),n,null,[[1,18]])})))()},setPlace:function(t){console.log(t);var e=t.geometry.location.lat(),o=t.geometry.location.lng();this.collectAddressDetails(e,o)}}}}).call(this,o(261))},611:function(t,e,o){var content=o(636);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(15).default)("31aea9fb",content,!0,{sourceMap:!1})},635:function(t,e,o){"use strict";o(611)},636:function(t,e,o){var n=o(14)(!1);n.push([t.i,".map-container[data-v-f692b3f6]{height:400px}",""]),t.exports=n},692:function(t,e,o){"use strict";o.r(e);var n=o(600).a,c=(o(635),o(26)),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"pt-4 pb-2"},[o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.place,expression:"place"}],staticClass:"form-control w-100 mb-3",attrs:{disabled:"",type:"text"},domProps:{value:t.place},on:{input:function(e){e.target.composing||(t.place=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("client-only",[o("GmapAutocomplete",{staticClass:"form-control",attrs:{value:t.searchText},on:{place_changed:t.setPlace}})],1)],1)]),t._v(" "),o("div",{staticClass:"map-container"},[o("client-only",[o("GmapMap",{staticClass:"w-100 h-100",attrs:{center:t.location,zoom:8,"map-type-id":"terrain",options:{zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!1}},on:{click:t.updateLocation}},[o("GmapMarker",{attrs:{position:t.location,draggable:""},on:{dragend:t.updateLocation,click:t.updateLocation}})],1)],1)],1)])}),[],!1,null,"f692b3f6",null);e.default=component.exports}}]);