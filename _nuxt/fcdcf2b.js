(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{617:function(t,e,r){var content=r(646);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("29695db5",content,!0,{sourceMap:!1})},645:function(t,e,r){"use strict";r(617)},646:function(t,e,r){var o=r(14)(!1);o.push([t.i,'.product-form-container .v-input--radio-group__input{flex-direction:row!important}.product-form-container .v-select__slot,.product-form-container .v-text-field__slot{display:block!important;height:auto!important}[dir=ltr] .product-form-container label{text-align:left!important}[dir=rtl] .product-form-container label{text-align:right!important}.product-form-container label{position:static!important;right:0!important;left:auto!important;display:block!important;transform:translate(0)!important;font-size:14px;color:#222!important;padding-bottom:10px;height:auto!important}.product-form-container input{margin-top:10px;background:#f5f5f5;padding:20px;height:auto!important;border-radius:5px}.product-form-container .v-input__slot:after,.product-form-container .v-input__slot:before{content:""!important;display:none!important}.product-form-container .v-select__slot .v-select__selections{margin-top:10px;background:#f5f5f5;padding:0 20px;border-radius:4px;height:auto!important}.product-form-container .v-select__slot .v-select__selections .v-select__selection--comma{position:absolute;right:8px;top:30px;z-index:1}.product-form-container .v-select__slot .v-input__append-inner{position:absolute;top:30px;left:10px}.product-form-container textarea{margin-top:10px;background:#f5f5f5;padding:20px;height:auto!important;border-radius:5px}.product-form-container .v-input--radio-group__input{flex-direction:row}.product-form-container .v-input--radio-group__input .v-label{margin-top:4px;font-size:12px}.uploadFileImages{position:relative;height:40px;background-color:#f5f5f5}.uploadFileImages input{position:absolute;top:0;left:0;width:100%;height:100%;background:red;opacity:0;padding:0!important;margin:0!important;min-height:40px}.preview-product-images{margin-top:30px;list-style:none;display:flex;align-items:center;flex-wrap:wrap;grid-gap:10px;gap:10px;background-color:#f5f5f5}.preview-product-images .image-holder{margin:10px;width:40px;height:40px;position:relative}.preview-product-images .image-holder img{-o-object-fit:cover;object-fit:cover;width:40px;height:40px}.preview-product-images .image-holder button{cursor:pointer;position:absolute;top:-6px;left:-5px;background:red;display:flex;justify-content:center;align-items:center;width:15px;height:15px;font-size:10px;color:#fff;font-weight:700;border-radius:50%;font-family:"Franklin Gothic Medium","Arial Narrow",Arial,sans-serif}.v-select--is-multi .product-form-container .v-select__slot .v-select__selections .v-select__selection--comma{position:static}',""]),t.exports=o},654:function(t,e,r){"use strict";r.r(e);var o=r(22),n=r(1),l=(r(79),r(27),r(189),{middleware:["auth"],data:function(){var t,e=this;return{sharedInputs:!0,multipleProudct:!1,avilableSubmit:!1,disabled:!1,loading:!1,productType:"",multipleWrap:[],multipleOptions:[],nameRules:[function(t){return!!t||e.$t("reqFiled")}],allCategories:null,categories:{departmentId:"",departmentName:"ازياء"},allsubDeparts:null,subDepart:{subDepartId:"",name:""},allWraps:null,wraps:{warpId:"",wrapName:""},allfeatures:null,features:{featureId:"",featureName:"",options:""},alloptionsData:[],alloptions:null,options:{optionId:"",featureOptionName:""},form:(t={name_ar:""},Object(n.a)(t,"name_ar",""),Object(n.a)(t,"description_ar",""),Object(n.a)(t,"description_en",""),Object(n.a)(t,"departmentId",""),Object(n.a)(t,"subDepartId",""),Object(n.a)(t,"price",""),Object(n.a)(t,"discountPrice",""),Object(n.a)(t,"count",""),Object(n.a)(t,"type",""),Object(n.a)(t,"features",""),Object(n.a)(t,"uploads",""),Object(n.a)(t,"wrapIds",[]),t),savedIdFature:[],lastSelect:"",productNameAr:"",productNameEn:"",productdescriptionEn:"",productdescriptionAr:"",mainSectionVal:null,packagingVal:null,myFiles:[],uploads:null,productImages:[],imgsName:[]}},computed:{productId:function(){return this.$route.params.id}},mounted:function(){var t=this;this.$axios.$get("categories").then((function(e){t.allCategories=e.data})),this.$axios.$get("wraps").then((function(e){t.allWraps=e.data}))},methods:{kkk:function(){console.log(this.productId)},handleSubmit:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0==t.form.subDepartId.length){e.next=7;break}return r=new FormData(t.$refs.form),t.loading=!0,t.disabled=!0,r.append("wrapIds",JSON.stringify(t.form.wrapIds)),e.next=7,t.$axios.$post("addProduct",r).then((function(data){"simple"==t.productType?t.$router.push("/store/products"):(localStorage.setItem("productId",data.data.productId),t.$router.push("/store/products/productOptions/".concat(data.data.productId)),console.log("1111,data.productId"),console.log(1111,data.productId),console.log(324555556432,data.data.productId)),t.$refs.form.reset(),t.loading=!1,t.disabled=!1,t.subDepart.name="",t.subDepart.name="",t.$swal.fire({title:data.message,timer:1e3,icon:"success",allowOutsideClick:!1,showConfirmButton:!1,showCancelButton:!1})})).catch((function(e){console.log("error",e),t.loading=!1,t.disabled=!1,t.$swal.fire({title:data.message,timer:1e3,icon:"success",allowOutsideClick:!1,showConfirmButton:!1,showCancelButton:!1})}));case 7:case"end":return e.stop()}}),e)})))()},ProductType:function(){console.log(this.productType),"simple"==this.productType?(this.multipleProudct=!1,this.avilableSubmit=!0):(this.sharedInputs=!1,this.multipleProudct=!0,this.avilableSubmit=!0)},uploadImage:function(t){this.imgsName=[];for(var e=t.target.files,i=0;i<e.length;i++)this.productImages.push(e[i]),this.imgsName.push(e[i].name);this.form.uploads=this.productImages,console.log(this.productImages),console.log(this.form.uploads),this.applyImage(t)},removeImage:function(image,t,e){console.log(this.productImages);for(var input=this.$refs.inputFile,r=new DataTransfer,i=0;i<input.files.length;i++)input.files[i].name!=e&&r.items.add(input.files[i]);input.files=r.files,this.productImages.splice(t,1),this.applyImage()},applyImage:function(t){for(var e=this,r=function(i){var t=new FileReader;t.onload=function(r){e.$refs.image[i].src=t.result},t.readAsDataURL(e.productImages[i])},i=0;i<this.productImages.length;i++)r(i)},selectedDepartmentID:function(t){var e=this;this.allsubDeparts=[],this.form.departmentId=t,this.getSubDepart(t),this.$axios.$get("features",{params:{departmentId:t}}).then((function(t){e.allfeatures=t.data,e.alloptionsData=t.data,console.log(t.data)}))},selectedSubDepartmentID:function(t){this.form.subDepartId=t,console.log(t)},selectedOptions:function(t,e,r){for(var o=[],n=[],i=0;i<t.length;i++)o.push(t[i].optionId),n.push(e);console.log("Options ID",o),console.log("Features ID",n)},selectedwrapIds:function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].warpId);this.form.wrapIds=e},getSubDepart:function(t){var e=this;this.loadingPage=!0,this.$axios.$get("subCategories",{params:{departmentId:t}}).then((function(t){0!==t.data.subDeparts.length?e.allsubDeparts=t.data.subDeparts:e.$swal.fire({title:e.$t("chooseOtherSection_nosubDepartment"),timer:3e3,icon:"error",allowOutsideClick:!1,showConfirmButton:!1,showCancelButton:!1})}))}}}),c=(r(645),r(26)),d=r(43),m=r.n(d),f=r(555),v=r(565),h=r(237),x=r(787),_=r(748),I=r(566),w=r(683),y=r(573),$=r(789),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{ref:"form",staticClass:"product-form-container",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{name:"name_ar",rules:t.nameRules,label:t.$t("productNameAr"),required:""},model:{value:t.form.name_ar,callback:function(e){t.$set(t.form,"name_ar",e)},expression:"form.name_ar"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{name:"name_en",rules:t.nameRules,label:t.$t("productNameEn"),required:""},model:{value:t.form.name_en,callback:function(e){t.$set(t.form,"name_en",e)},expression:"form.name_en"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.departmentId,expression:"form.departmentId"}],attrs:{type:"text",hidden:"",required:"",name:"departmentId"},domProps:{value:t.form.departmentId},on:{input:function(e){e.target.composing||t.$set(t.form,"departmentId",e.target.value)}}}),t._v(" "),r("v-select",{attrs:{items:t.allCategories,"item-text":"departmentName",rules:[function(t){return!!t||"Item is required"}],label:t.$t("mainSectionName"),required:"","return-object":""},on:{change:function(e){return t.selectedDepartmentID(t.categories.departmentId)}},model:{value:t.categories,callback:function(e){t.categories=e},expression:"categories"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.subDepartId,expression:"form.subDepartId"}],attrs:{type:"text",hidden:"",name:"subDepartId"},domProps:{value:t.form.subDepartId},on:{input:function(e){e.target.composing||t.$set(t.form,"subDepartId",e.target.value)}}}),t._v(" "),r("v-select",{attrs:{items:t.allsubDeparts,"item-text":"name",rules:[function(t){return!!t||"Item is required"}],label:t.$t("subSectionName"),required:"","return-object":""},on:{change:function(e){return t.selectedSubDepartmentID(t.subDepart.subDepartId)}},model:{value:t.subDepart,callback:function(e){t.subDepart=e},expression:"subDepart"}})],1),t._v(" "),r("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"6"}},[r("v-select",{attrs:{items:t.allWraps,"item-text":"wrapName",rules:[function(t){return!!t||"Item is required"}],label:t.$t("packaging"),required:"",multiple:"",chips:"","return-object":"","persistent-hint":"","small-chips":""},on:{change:function(e){return t.selectedwrapIds(t.multipleWrap)}},model:{value:t.multipleWrap,callback:function(e){t.multipleWrap=e},expression:"multipleWrap"}})],1),t._v(" "),r("v-col",{staticClass:"mt-7",attrs:{cols:"12",md:"6"}},[r("label",{staticClass:"mb-3",attrs:{for:""}},[t._v(t._s(this.$t("product_images")))]),t._v(" "),r("div",{staticClass:"uploadFileImages"},[r("input",{ref:"inputFile",attrs:{id:"file-upload",type:"file",name:"uploads",multiple:""},on:{change:t.uploadImage}}),t._v(" "),r("div",{staticClass:"pa-2",staticStyle:{"text-align":"end"}},[r("v-icon",{staticClass:"mt-1"},[t._v("mdi-file-upload-outline")])],1)]),t._v(" "),r("div",{staticClass:"preview-product-images"},t._l(t.productImages,(function(image,e){return r("div",{key:e},[r("div",{staticClass:"image-holder"},[r("img",{ref:"image",refInFor:!0,attrs:{alt:"",src:""}}),t._v(" "),r("button",{attrs:{type:"button"},on:{click:function(r){return t.removeImage(image,e,image.name)}}},[t._v("\n              x\n            ")])])])})),0)]),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{required:"",rules:[function(t){return!!t||"Item is required"}],name:"description_ar",label:t.$t("productdescriptionAr")},model:{value:t.productdescriptionAr,callback:function(e){t.productdescriptionAr=e},expression:"productdescriptionAr"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{required:"",rules:[function(t){return!!t||"Item is required"}],name:"description_en",label:t.$t("productdescriptionEn")},model:{value:t.productdescriptionEn,callback:function(e){t.productdescriptionEn=e},expression:"productdescriptionEn"}})],1),t._v(" "),r("v-col",{staticClass:"mt-md-n10 pa-md-6",attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{name:"price",rules:t.nameRules,label:t.$t("price"),type:"number",required:""},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),t._v(" "),r("v-col",{staticClass:"mt-md-n10 pa-md-6",attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{name:"discountPrice",rules:t.nameRules,label:t.$t("priceAfterDiscount"),type:"number"},model:{value:t.form.discountPrice,callback:function(e){t.$set(t.form,"discountPrice",e)},expression:"form.discountPrice"}})],1),t._v(" "),r("v-col",{staticClass:"mt-md-n10 pa-md-6",attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{name:"count",rules:t.nameRules,label:t.$t("count"),type:"number"},model:{value:t.form.count,callback:function(e){t.$set(t.form,"count",e)},expression:"form.count"}})],1),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.productType,expression:"productType"}],attrs:{type:"text",hidden:"",name:"type"},domProps:{value:t.productType},on:{input:function(e){e.target.composing||(t.productType=e.target.value)}}}),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("label",{attrs:{for:""}},[t._v(t._s(t.$t("productdType")))]),t._v(" "),r("v-radio-group",{staticClass:"d-flex mt-n1",attrs:{rules:[function(t){return!!t||"Item is required"}]},on:{change:function(e){return t.ProductType()}},model:{value:t.productType,callback:function(e){t.productType=e},expression:"productType"}},[r("v-radio",{staticClass:"w-50 siz-12 mt-3",attrs:{label:t.$t("simple"),color:"primary",value:"simple"}}),t._v(" "),r("v-radio",{staticClass:"w-50 siz-12 mt-3",attrs:{label:t.$t("multiple"),color:"primary",value:"multiple"}})],1)],1)],1),t._v(" "),r("div",{staticClass:"dFlex"},[r("v-btn",{staticClass:"submit-button",attrs:{disabled:t.disabled,loading:t.loading,color:"primary",type:"submit"}},[t._v("\n      "+t._s(t.$t("save"))+"\n    ")])],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VBtn:f.a,VCol:v.a,VIcon:h.a,VRadio:x.a,VRadioGroup:_.a,VRow:I.a,VSelect:w.a,VTextField:y.a,VTextarea:$.a})}}]);